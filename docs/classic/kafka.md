### 1、Kafka为什么这么快
a. 顺序写：kafka的消息都是不断追加到文件中<br>
b. 零拷贝技术：减少拷贝次数，大幅提升数据传输效率<br>
c. 批量生产消费：降低网络开销<br>
d. 数据压缩：减少传输的数据量，减轻对网络传输的压力<br>
e. 页缓存：直接内存读取，提高内存IO效率<br>
f. 分区机制：充分利用集群优势，实现机器并行处理<br>

### 2、Kafka可靠性保证
#### 生产者
a. 同步发送或者异步发送+回调函数<br>
b. 生产者重试机制<br>

#### 消费者
a. 关闭自动提交offset，真正消费完消息在手动提交offset<br>

#### broker
a. 设置acks=all，生产者发送的消息必须等待分区的所有同步副本都确认后才返回发送成功<br>
b. 设置replication.factor>2，每个分区副本数大于2<br>
c. 设置min.insync.replicas>1，至少需要有多少个副本与 Leader 保持同步，Broker 才会接受生产者的写入请求

